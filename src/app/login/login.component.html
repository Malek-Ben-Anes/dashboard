<div *ngIf="!isLoggedIn">

  <div class="row">

    <div class="col-md-5">
      <img src="assets/images/connexion.jpg" class="img-fluid" alt="Responsive image" style="width: 100%;">
    </div>

    <div class="col-md-7">

      <br>
      <h3>{{'signIn.credentials.title' | translate}}</h3>
      <br>

      <form name="form" (ngSubmit)="f.form.valid && onSignIn()" #f="ngForm" novalidate>

        <mat-form-field class="example-full-width">
            <input matInput [placeholder]="'signIn.credentials.email' | translate" name="username" [(ngModel)]="form.username"
             #username="ngModel" type="email" required/>
            <mat-error *ngIf="f.submitted && username.errors && username.errors.required">
                {{'signIn.credentials.email.required' | translate}}
            </mat-error>
        </mat-form-field>

        <mat-form-field class="example-full-width">
            <input matInput [placeholder]="'signIn.credentials.password' | translate" name="password" [(ngModel)]="form.password"
             #password="ngModel" type="password" required minlength="6"/>
            <mat-error *ngIf="password.errors && password.errors.required">
                {{'signIn.credentials.password.required' | translate}}
            </mat-error>
            <mat-error *ngIf="password.errors && password.errors.minlength">
                {{'signIn.credentials.password.constraint.length' | translate}}
            </mat-error>
        </mat-form-field>

        <div class="form-group center">
          <div *ngIf="isLogging; else isNotLogging">
            <button mat-raised-button class="btn btn-primary">
              {{'signIn.credentials.loading' | translate}}<i class="fa fa-circle-o-notch fa-spin"></i>
            </button>
          </div>

          <div *ngIf="!isLogging">
            <button mat-raised-button class="btn btn-primary" [disabled]="username && username.invalid ">
              <span class="glyphicon glyphicon-cloud-upload">{{'signIn.credentials.login' | translate}}</span>
            </button>
          </div>

        </div>

        <div class="form-group center">
          <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger">
            {{'signIn.credentials.failure' | translate}}
          </div>
        </div>
      </form>

    </div>
  </div>
  <div>