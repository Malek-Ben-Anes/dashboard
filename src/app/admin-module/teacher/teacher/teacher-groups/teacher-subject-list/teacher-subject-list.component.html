<div class="card">
  <div class="card-body">
    <div class="row">
      <div class="col-md-12">
        <form [formGroup]="subjectsForm">
          <div *ngIf="subjectsForm.controls.checkedOptions != null">
            <div
              formArrayName="checkedOptions"
              *ngFor="
                let name of subjectsForm.controls.checkedOptions.controls;
                let i = index
              "
            >
              <mat-label>
                <div class="col-md-6">
                  <mat-checkbox
                    class="checkbox-color"
                    matInput
                    [formControlName]="i"
                    (change)="onUpdate($event.checked, checkedOptions[i])"
                    >{{ checkedOptions[i].name }}
                  </mat-checkbox>
                </div>
              </mat-label>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
