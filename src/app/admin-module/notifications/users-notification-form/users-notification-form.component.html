<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <form [formGroup]="notifForm" *ngIf="notifForm">
          <div class="row">
            <div class="col-md-5">
              <mat-form-field class="example-full-width">
                <input matInput placeholder="{{'All.text.notifications.Title' | translate}}" formControlName="title" required>
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field class="example-full-width">
                <mat-select matInput placeholder="{{'All.text.notifications.Type' | translate}}" formControlName="type" required>
                  <mat-option *ngFor="let NOTIF of NOTIFS" [value]="NOTIF" required>
                    {{'All.text.notifications.Type.' + NOTIF | translate}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-4">
              <mat-form-field class="example-full-width">
                <input matInput placeholder="{{'All.text.notifications.notifier' | translate}}" formControlName="notifier"
                 [disabled]="true">
              </mat-form-field>
            </div>
            <div class="col-md-10">
              <mat-form-field class="example-full-width">
                <input matInput placeholder="{{'All.text.notifications.content' | translate}}"
                 type="text" formControlName="content" required>
              </mat-form-field>
            </div>
            <div class="col-md-2">
              <button mat-raised-button type="submit" (click)="openDialog()"
                [disabled]="notifForm.pristine || notifForm.invalid"
                class="btn btn-warning pull-right">{{'All.text.notifications.NotifierAction' | translate}}</button>
              <div class="clearfix"></div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="col-md-12">
  <div class="row">
    <div>
      <button (click)="onToggleButton('TEACHER')" class="mat-raised-button choice-toggle" [ngClass]="selected!=='TEACHER'?'mat-basic':'mat-primary'">
        {{'label.teacher' | translate}}
      </button>
      <button (click)="onToggleButton('GROUP')" class="mat-raised-button choice-toggle" [ngClass]="selected!=='GROUP'?'mat-basic':'mat-primary'">
        {{'label.group' | translate}}
      </button>
      <button (click)="onToggleButton('STUDENT')" class="mat-raised-button choice-toggle" [ngClass]="selected!=='STUDENT'?'mat-basic':'mat-primary'">
        {{'label.student' | translate}}
      </button>
    </div>

    <mat-form-field class="group-selection" *ngIf="selected === 'STUDENT'">
      <mat-select matInput placeholder="{{'All.text.groups.select' | translate}}" (selectionChange)="onSelectGroup($event.value)">
        <mat-option *ngFor="let grp of allGroups" [value]="grp">
          {{ grp.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="clearfix"></div>
  </div>
</div>
<div class="card card-profile">
  <div class="card-body">
    <div class="row">

      <div class="col-md-12">
        <strong>
          {{'All.text.notifications.OptionSelected' | translate}}: {{selections &&
          selections.selectedOptions.selected.length}}
        </strong>
      </div>

      <div class="col-md-12">
        <mat-selection-list #selections (selectionChange)="onSelectCheckBox($event, selections.selectedOptions)">
          <mat-list-option  *ngFor="let e of selectedOptions" [value]="e" selected
           style="display:inline-block; width:33%; text-align:center;">
            {{e.name}}{{e.firstName}} {{e.lastName}}            
          </mat-list-option>
        </mat-selection-list>
      </div>
      
    </div>
  </div>
</div>
